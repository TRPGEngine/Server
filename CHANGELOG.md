# Changelog

All notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.

## [1.47.0](https://github.com/TRPGEngine/Server/compare/v1.46.0...v1.47.0) (2021-02-13)


### Features

* **group:** 聊天消息日志增加频道日志获取 ([eaafaec](https://github.com/TRPGEngine/Server/commit/eaafaecfeaae0c6078caa6e7f67ef852939e7710))

## [1.46.0](https://github.com/TRPGEngine/Server/compare/v1.45.0...v1.46.0) (2021-02-07)


### Features

* **core:** add availableSocketEvents api ([52402a1](https://github.com/TRPGEngine/Server/commit/52402a16d2c7f02a1c7b00dc03031b70bfd3b1d9))
* **group:** 增加接口用于获取团指定类型的面板 ([24eee0e](https://github.com/TRPGEngine/Server/commit/24eee0e2372c8ea23de72dea34d982d5917eb9af))


### Bug Fixes

* 修复coc7本职技能信息不同步的问题 ([3df79da](https://github.com/TRPGEngine/Server/commit/3df79da922f2fed04499116c5aa8d64acc26b067))

## [1.45.0](https://github.com/TRPGEngine/Server/compare/v1.44.1...v1.45.0) (2021-02-02)


### Features

* **group:** add website panel ([37778af](https://github.com/TRPGEngine/Server/commit/37778afc95f90b7934d9b93e29583d500625c17a))


### Bug Fixes

* 修复线上注册操作获取的IP地址不正确的bug ([f057e3c](https://github.com/TRPGEngine/Server/commit/f057e3c73bbdf915b46674132cd8c9131052b912))
* 修复线上注册操作获取的IP地址不正确的bug ([e7e424a](https://github.com/TRPGEngine/Server/commit/e7e424a981944b3d0f8c2ed743d48a11fa55e51b))

### [1.44.1](https://github.com/TRPGEngine/Server/compare/v1.44.0...v1.44.1) (2021-01-28)

## [1.44.0](https://github.com/TRPGEngine/Server/compare/v1.43.2...v1.44.0) (2021-01-24)


### Features

* **oauth:** OAuth应用与应用信息 ([49f9e86](https://github.com/TRPGEngine/Server/commit/49f9e86c4fbe016794d568ed9e04f4666a708be5))
* **oauth:** 增加code模型与授权逻辑 ([836a078](https://github.com/TRPGEngine/Server/commit/836a078863416e1499f6acc58b258a76cd51f4cf))
* **oauth:** 增加OAuth应用创建的逻辑 ([9787473](https://github.com/TRPGEngine/Server/commit/9787473e4d6ff82de273e20fd4c4e31ed32c6586))
* **oauth:** 增加用户公共授权信息获取 ([62ec595](https://github.com/TRPGEngine/Server/commit/62ec595983f930638eb73f846f2186b1bcbb1ea4))

### [1.43.2](https://github.com/TRPGEngine/Server/compare/v1.43.1...v1.43.2) (2021-01-13)

### [1.43.1](https://github.com/TRPGEngine/Server/compare/v1.43.0...v1.43.1) (2021-01-08)

## [1.43.0](https://github.com/TRPGEngine/Server/compare/v1.42.2...v1.43.0) (2021-01-01)


### Features

* **group:** add common group panel data model ([6aaa6cd](https://github.com/TRPGEngine/Server/commit/6aaa6cd748b0a252cff90cbce753e87c99bc027a))
* 增加通用的面板数据变更与获取接口 ([9adfa38](https://github.com/TRPGEngine/Server/commit/9adfa38304cfb7bda5b2d415f0fb7696dbb817bf))


### Bug Fixes

* **dice:** 修复了子频道无法正常进行ra判定的bug ([0f72e80](https://github.com/TRPGEngine/Server/commit/0f72e8051d82d55ff26d12ffd0d253f565cc9e17))

### [1.42.2](https://github.com/TRPGEngine/Server/compare/v1.42.1...v1.42.2) (2020-12-25)

### [1.42.1](https://github.com/TRPGEngine/Server/compare/v1.42.0...v1.42.1) (2020-12-18)


### Bug Fixes

* **core:** 修复无法正确返回404的情况 ([3dc9ed5](https://github.com/TRPGEngine/Server/commit/3dc9ed55579e074c8bcd8de3429c3c50f5e51c7e))

## [1.42.0](https://github.com/TRPGEngine/Server/compare/v1.41.0...v1.42.0) (2020-12-10)


### Features

* **db:** 个人信息增加qq号 ([ee3beb5](https://github.com/TRPGEngine/Server/commit/ee3beb579153300386b58e7b25b5ea60e4b0a42c))

## [1.41.0](https://github.com/TRPGEngine/Server/compare/v1.40.0...v1.41.0) (2020-12-04)


### Features

* **core:** 增加stats表用于替代原来的json存储 ([8f8a144](https://github.com/TRPGEngine/Server/commit/8f8a1441ebdcfea98004e4f028931b59e5a7f507))
* **group:** 增加配置项用于隐藏聊天框中查看人物卡 ([55c30f9](https://github.com/TRPGEngine/Server/commit/55c30f9a23b8d5759cff2faeb17e0af5eabc7f2b))

## [1.40.0](https://github.com/TRPGEngine/Server/compare/v1.39.0...v1.40.0) (2020-11-28)


### Features

* **group:** 增加保存团详细信息的接口 ([3f07e3f](https://github.com/TRPGEngine/Server/commit/3f07e3f9d8d4b6e8bd97e18dce884a80af11c462))

## [1.39.0](https://github.com/TRPGEngine/Server/compare/v1.38.0...v1.39.0) (2020-11-18)


### Features

* **group:** 增加同意入团与拒绝入团的接口 ([2c1a1d2](https://github.com/TRPGEngine/Server/commit/2c1a1d28a8229932006ff1f36f7fbb60cc205c24))
* **group:** 增加请求列表的获取接口 ([cd5c645](https://github.com/TRPGEngine/Server/commit/cd5c645e3cd45af06e0905ede2b806d381acd1df))
* 注册成功后发送欢迎语 ([cba2103](https://github.com/TRPGEngine/Server/commit/cba2103f5cf1ee4778583fbf8b9ce962a83c70a4))

## [1.38.0](https://github.com/TRPGEngine/Server/compare/v1.37.0...v1.38.0) (2020-11-12)


### Features

* **dice:** 增加暗骰 ([0e10d7b](https://github.com/TRPGEngine/Server/commit/0e10d7bf69f390a75471da7f0b0a7eea7c6c26aa))

## [1.37.0](https://github.com/TRPGEngine/Server/compare/v1.36.0...v1.37.0) (2020-11-07)


### Features

* **chatemotion:** 增加表情包搜索功能 ([f4905a6](https://github.com/TRPGEngine/Server/commit/f4905a6b3f464e8d3e13539a4cb0d1457bc36e88))

## [1.36.0](https://github.com/TRPGEngine/Server/compare/v1.35.0...v1.36.0) (2020-11-02)


### Features

* **bot:** 增加机器人应用的创建 ([2559b1c](https://github.com/TRPGEngine/Server/commit/2559b1c2988cc96b769af4f7d958818b9de19fc6))
* **bot:** 机器人应用登录 ([4ce549b](https://github.com/TRPGEngine/Server/commit/4ce549b3b75854ebf3a326624a9bae4a92fb5f5b))
* **trpg:** 增加战报删除的接口 ([1abbf09](https://github.com/TRPGEngine/Server/commit/1abbf094a5a57ea4c4a82a30e469b92b52151aae))


### Bug Fixes

* 修复长文本消息内容无法正常存到数据库的问题 ([8ba9185](https://github.com/TRPGEngine/Server/commit/8ba9185a4ba27153b1dc89271ba9901f52f6252d))

## [1.35.0](https://github.com/TRPGEngine/Server/compare/v1.34.0...v1.35.0) (2020-10-23)


### Features

* **dice:** 增加投骰报错抛出 ([b72edba](https://github.com/TRPGEngine/Server/commit/b72edbaa68102af0243bcc8ee06bb1af4bb94fe7))
* **file:** 增加图片上传接口 ([48daefa](https://github.com/TRPGEngine/Server/commit/48daefa082fa2b41fcbfe1e4e50057aa937aa752))
* **group:** 增加团成员降级为普通用户的接口 ([2558b69](https://github.com/TRPGEngine/Server/commit/2558b693d6bfd8ebad2e72a1ee2a0225ecaf38e4))
* **trpg:** 增加获取团战报列表的接口 ([2bcb96d](https://github.com/TRPGEngine/Server/commit/2bcb96dc77ef88e101dfa592f6fcafb2bcc8d288))
* **trpg:** 战报增加group_uuid字段 ([c4b8d90](https://github.com/TRPGEngine/Server/commit/c4b8d906e2a4116114cab56d0f62cf5fa4a4a5b6))


### Bug Fixes

* 修复长文本消息内容无法正常存到数据库的问题 ([34b8e24](https://github.com/TRPGEngine/Server/commit/34b8e2483cc3106ffcd956d836566914bde98c10))
* **player:** 修复ip解析失败报错会直接报错的bug ([5847498](https://github.com/TRPGEngine/Server/commit/58474986b925df1eb35f9cd20775a24ad853de48))

## [1.34.0](https://github.com/TRPGEngine/Server/compare/v1.33.0...v1.34.0) (2020-10-13)


### Features

* **dice:** 增加命运骰 ([5bc3b62](https://github.com/TRPGEngine/Server/commit/5bc3b622dab10c8758b4101c724acded80787a14))
* **dice:** 增加骰点shortcut ([2f956ee](https://github.com/TRPGEngine/Server/commit/2f956ee55c3131752b4a163c223aa0c93c06db60))
* **player:** 登录时允许传输登录设备参数 ([22dea32](https://github.com/TRPGEngine/Server/commit/22dea32025606ec15ef315590ef497727cc03a37))


### Bug Fixes

* **core:** 修复在某些情况下报错不能正常抛出的问题 ([91ea001](https://github.com/TRPGEngine/Server/commit/91ea001891cf84397d08eeb3947e0da08b632497))
* **info:** 修复无法解析html时会出现错误的问题 ([38af41b](https://github.com/TRPGEngine/Server/commit/38af41b9554ddcb00594282972172b08aaa72dd0))

## [1.33.0](https://github.com/TRPGEngine/Server/compare/v1.32.0...v1.33.0) (2020-10-07)


### Features

* **web:** 增加删除机器人列表的功能 ([25e0347](https://github.com/TRPGEngine/Server/commit/25e0347553c9f50a3a19de3917d83011101fbad8))


### Bug Fixes

* **group:** 修复加入团以后无法获取面板与频道信息的bug ([3c19989](https://github.com/TRPGEngine/Server/commit/3c19989ce9cf4c2980dfd775b9e81360eb24a217))

## [1.32.0](https://github.com/TRPGEngine/Server/compare/v1.31.1...v1.32.0) (2020-09-29)


### Features

* **core:** 抛出异常时增加错误代码 ([0e6a060](https://github.com/TRPGEngine/Server/commit/0e6a0603a1e0af1299b4c75663156755f2ff7075))
* **group:** 团面板可见性 ([8c6112b](https://github.com/TRPGEngine/Server/commit/8c6112b01ea7fb17ba14859dbfde6c6cdcd0acd7))
* **player:** 注册增加注册限流 ([f483920](https://github.com/TRPGEngine/Server/commit/f483920bce5734f7df36ac6fedfdb7d4657d9fee))


### Bug Fixes

* **bot:** 修复无法正确处理空发送者的问题 ([eded69e](https://github.com/TRPGEngine/Server/commit/eded69e8bfad54e6d01052ad8d247e1941f47d88))

### [1.31.1](https://github.com/TRPGEngine/Server/compare/v1.31.0...v1.31.1) (2020-09-24)


### Bug Fixes

* **bot:** 修复消息机器人post请求无法正常处理的bug ([67709b4](https://github.com/TRPGEngine/Server/commit/67709b42288196ab03679353551ee328abfeb101))
* **notify:** 修复发送推送时找不到发送者信息会报错的问题 ([da02698](https://github.com/TRPGEngine/Server/commit/da026982e6b6d7bce6539c53b36170eeab72e453))

## [1.31.0](https://github.com/TRPGEngine/Server/compare/v1.30.0...v1.31.0) (2020-09-22)


### Features

* **bot:** 增加msg token bot 的获取列表的方法 ([3dd3344](https://github.com/TRPGEngine/Server/commit/3dd3344eb865dbf0030ca072f72109b06287db35))
* **bot:** 增加简单机器人 ([f621b0c](https://github.com/TRPGEngine/Server/commit/f621b0cb89d9b4e3aaa546d7902fd14b0195cba6))
* **core:** add heap dumps用于增加内存调试 ([cbbb748](https://github.com/TRPGEngine/Server/commit/cbbb74802ca9f4aab83ff40c3613c669b9365302))
* **group:** 增加成员踢出与成员升为管理员的http接口 ([4a515ab](https://github.com/TRPGEngine/Server/commit/4a515ab8d2835e5d137b00ed0e39a5868b9e5ad2))


### Bug Fixes

* **bot:** 修复operation-log错误类型与修复创建机器人无法获取数据的bug ([0c1b307](https://github.com/TRPGEngine/Server/commit/0c1b30776df41bd451a91b5c8731ffafcfc2df1b))
* **bot:** 修复错误的获取数据的方式 ([dc4c450](https://github.com/TRPGEngine/Server/commit/dc4c450159fe9592759b8332cc44f8f22b372277))

## [1.30.0](https://github.com/TRPGEngine/Server/compare/v1.29.1...v1.30.0) (2020-09-15)


### Features

* **core:** socket事件增加限流 ([28d1949](https://github.com/TRPGEngine/Server/commit/28d19492661b96aa1baad37ec061f59406277b45))
* **core:** 增加http请求限流 ([655c510](https://github.com/TRPGEngine/Server/commit/655c5103a00d09e250d4b4b31d44810268c68711))
* **db:** coc7版人物卡增加san值 ([e6cf631](https://github.com/TRPGEngine/Server/commit/e6cf63190bff1c9d191e748a2fa2f1614b6b4dfe))
* **group:** 团面板增加额外参数的处理 ([05e08bb](https://github.com/TRPGEngine/Server/commit/05e08bbeff7951e336499ebeb917af2bf305d9af))
* **group:** 增加GroupInviteCode作为新的团邀请 ([23a6387](https://github.com/TRPGEngine/Server/commit/23a638789ee0698e05144a1744eac0b35cee8d09))
* **group:** 增加删除面板的接口 ([c788942](https://github.com/TRPGEngine/Server/commit/c788942561bc31fbf026e563d60fadc8f2234474))
* **group:** 增加团邀请代码的方式加入团 ([380f989](https://github.com/TRPGEngine/Server/commit/380f989f3be162080b53b03f14f78bc15ceff21b))
* **group:** 增加团面板信息更新接口 ([fb6c3da](https://github.com/TRPGEngine/Server/commit/fb6c3da3a4d7d9686c03d8cd4d824e8503ec7811))
* **group:** 增加团面板接口 ([e8e7250](https://github.com/TRPGEngine/Server/commit/e8e7250ea22418ed47aa4e58984d13aaf80977b6))
* **group:** 增加团面板顺序更新方法 ([83d53f2](https://github.com/TRPGEngine/Server/commit/83d53f25375fd55a033b95472a44b855472ab83f))
* **group:** 增加接口用于获取邀请信息 ([be785c4](https://github.com/TRPGEngine/Server/commit/be785c4b5432a21d737ece12b4af661c7ac5d315))
* **group:** 增加新的接口用于获取团信息 ([2fba58a](https://github.com/TRPGEngine/Server/commit/2fba58a02f61221494565089ca2693b2a3fb1ac3))
* **group:** 抽象创建团的方法并增加创建团的请求 ([309da65](https://github.com/TRPGEngine/Server/commit/309da652675ae11169d856a412f48652d49ac0d2))
* **note:** 增加删除笔记的接口 ([e3865ac](https://github.com/TRPGEngine/Server/commit/e3865ac834387ac576226867e46ede335b7d4446))
* **note:** 增加团笔记面板的处理 ([5850ba3](https://github.com/TRPGEngine/Server/commit/5850ba357074ce441f2fe99f2d8c74df552bc8eb))
* **note:** 增加接口以获取笔记信息 ([2d73a82](https://github.com/TRPGEngine/Server/commit/2d73a821585edfc78f24f4bda3d9f066325e367d))
* **note:** 增加笔记版本锁定功能 ([8e7e4b3](https://github.com/TRPGEngine/Server/commit/8e7e4b3e4f2884d788ffd5b64a28d281c76fe83e))
* **player:** 增加新的路由获取实例当前sockets ([0980657](https://github.com/TRPGEngine/Server/commit/0980657ddf340e0e03203aa77e013e7541b53467))
* **player:** 增加移除好友邀请的接口 ([bde62d6](https://github.com/TRPGEngine/Server/commit/bde62d6672e0e4d88182a6117c37008a3ae4b19d))
* **player:** 增加获取私有登录日志的接口 ([fb4120f](https://github.com/TRPGEngine/Server/commit/fb4120f27b76f8c185d6193e265c9468564500c7))


### Bug Fixes

* **player:** 修复一个可能会出现的登录操作锁抢占的问题 ([1188586](https://github.com/TRPGEngine/Server/commit/1188586f06a7108790cb2a7503e3244075df4a21))

### [1.29.1](https://github.com/TRPGEngine/Server/compare/v1.29.0...v1.29.1) (2020-08-23)


### Features

* **db:** coc7版人物卡增加san值 ([d8dea04](https://github.com/TRPGEngine/Server/commit/d8dea04f7d29ce46c9c7c007a8bfb7cfbdd699c9))

## [1.29.0](https://github.com/TRPGEngine/Server/compare/v1.28.2...v1.29.0) (2020-08-05)


### Features

* **group:** 团面板 ([1d63af2](https://github.com/TRPGEngine/Server/commit/1d63af2ff86f43518427c33715bee55a2768ecd2))
* **note:** add createNote ([a26aaf3](https://github.com/TRPGEngine/Server/commit/a26aaf36501d79d13ddf5cf36b0d844eb1c3d561))
* **note:** 增加note的uuid字段的唯一性处理 ([41cfc25](https://github.com/TRPGEngine/Server/commit/41cfc2542a8b1e9f22f265008496528ce9123b97))
* **note:** 增加新版笔记功能保存功能 ([34a3a2e](https://github.com/TRPGEngine/Server/commit/34a3a2efa683e8bbd5985e7b87283f8a6238b564))
* **note:** 新版获取笔记列表 ([37ae38e](https://github.com/TRPGEngine/Server/commit/37ae38e8b0e0eae24d867080a608aac007e3753a))


### Bug Fixes

* **chat:** 修复入团通知会发送广播的问题 ([045b2ae](https://github.com/TRPGEngine/Server/commit/045b2ae61d5053d804f616eaff5686ea832f0439))
* **info:** 修复短时间请求两次数据库写入会报错的bug ([dc25be9](https://github.com/TRPGEngine/Server/commit/dc25be99213efbec23bf2ee76515a228aa524c7b))

### [1.28.2](https://github.com/TRPGEngine/Server/compare/v1.28.1...v1.28.2) (2020-08-04)


### Bug Fixes

* **chat:** 修复入团通知会发送广播的问题 ([13b0e5e](https://github.com/TRPGEngine/Server/commit/13b0e5ea0137ba3dba44515e2ddf0a4536f6ef26))

### [1.28.1](https://github.com/TRPGEngine/Server/compare/v1.28.0...v1.28.1) (2020-08-02)

## [1.28.0](https://github.com/TRPGEngine/Server/compare/v1.27.0...v1.28.0) (2020-07-18)


### Features

* 增加自动顶帖服务 ([32e80cb](https://github.com/TRPGEngine/Server/commit/32e80cb81af895105fe65b4960459f3efa79699d))
* **group:** add group channel visible field ([6245f52](https://github.com/TRPGEngine/Server/commit/6245f52934cbfdfb43a736615a079723ab73b093))
* **group:** 增加解散团时同步客户端状态 ([f7d0f76](https://github.com/TRPGEngine/Server/commit/f7d0f767c1cea2735b86c0d2c8c4723134bda7dd))

## [1.27.0](https://github.com/TRPGEngine/Server/compare/v1.26.0...v1.27.0) (2020-06-27)


### Features

* **docs:** 文档增加自实现的mermaid插件 ([2b8be9b](https://github.com/TRPGEngine/Server/commit/2b8be9bab745d94ba195d8ef292897b9f17aca88))
* **trpg:** 加入地图房间时绑定用户基本信息与通知所有人更新连接列表 ([3d6fabe](https://github.com/TRPGEngine/Server/commit/3d6fabec9bc711561b7f13f02bce05ee9ec1aea3))
* **trpg:** 增加获取地图用户绑定数据的接口 ([17f5b5f](https://github.com/TRPGEngine/Server/commit/17f5b5faac343a3b47cbede6b705b3d712e704b3))


### Bug Fixes

* **report:** 修复report模块ua字段过短的问题 ([974a118](https://github.com/TRPGEngine/Server/commit/974a118828db521191777d34685bc1dffff829a9))
* **trpg:** 修复notifyUpdateOnlineSocketList方法无法通知到地图用户的问题 ([15e0e67](https://github.com/TRPGEngine/Server/commit/15e0e6744f3366c5e8c7f5c937f4b5b32350c674))

## [1.26.0](https://github.com/TRPGEngine/Server/compare/v1.25.0...v1.26.0) (2020-06-20)


### Features

* **bot:** 增加bot操作日志 ([e69fa1c](https://github.com/TRPGEngine/Server/commit/e69fa1c67d11210fdf9f90a0b36e02a12db6785c))


### Bug Fixes

* **core:** 修复报错指向错误的bug ([f4040c8](https://github.com/TRPGEngine/Server/commit/f4040c82496f80e08bae1b59ad9a75d5c49d76f7))
* 修复命名关键字的问题 ([d8df92e](https://github.com/TRPGEngine/Server/commit/d8df92e57fdb582afb947e86829d1aade41d813d))

## [1.25.0](https://github.com/TRPGEngine/Server/compare/v1.24.1...v1.25.0) (2020-06-17)


### Features

* **bot:** 增加一个机器人模块并监听创建招募信息的创建 ([7e76408](https://github.com/TRPGEngine/Server/commit/7e764084657cc0344bca408f95a2cc9499ef2b3a))
* **trpg:** 增加获取单个招募详情的接口 ([5730190](https://github.com/TRPGEngine/Server/commit/573019042bbb0ea617aae2dd9139dc140bff0a5d))

### [1.24.1](https://github.com/TRPGEngine/Server/compare/v1.24.0...v1.24.1) (2020-06-16)

## [1.24.0](https://github.com/TRPGEngine/Server/compare/v1.23.0...v1.24.0) (2020-06-12)


### Features

* **service:** add rssbot service ([a77fd61](https://github.com/TRPGEngine/Server/commit/a77fd610539c674d916f9a603caa0a1bac46e092))
* **trpg:** 创建招募信息时增加更多的字段 ([a8c053e](https://github.com/TRPGEngine/Server/commit/a8c053ebbed0dc9f060940e553af9ca8303f8f63))
* **trpg:** 增加获取用户招募列表的接口 ([7f83d76](https://github.com/TRPGEngine/Server/commit/7f83d76ecbf8276d91694b96ff2167272a3ec18a))


### Bug Fixes

* **trpg:** 修复错误的招募间隔判定 ([4261518](https://github.com/TRPGEngine/Server/commit/42615183079ba937bc3c9959c3d8d6c45779df5d))

## [1.23.0](https://github.com/TRPGEngine/Server/compare/v1.22.0...v1.23.0) (2020-06-06)


### Features

* **trpg:** 增加招募列表的路由 ([a14ba16](https://github.com/TRPGEngine/Server/commit/a14ba16916deec6fc382a0786b92d4c7d6e58239))

## [1.22.0](https://github.com/TRPGEngine/Server/compare/v1.21.0...v1.22.0) (2020-05-31)


### Features

* **chat:** 增加消息类型强制转换的指令 ([5a3c16c](https://github.com/TRPGEngine/Server/commit/5a3c16c0debe7e6012456e81c9dbeb94744dcad9))
* **lib:** 增加依赖图生成函数 ([94f39b4](https://github.com/TRPGEngine/Server/commit/94f39b4cc67d8b6951225e974a0e75b09e8284e1))
* **music:** 增加音乐服务 ([5d1ac9c](https://github.com/TRPGEngine/Server/commit/5d1ac9cfafc684b55b165a634daad27f1d775a8c))
* **player:** 增加接口获取用户登录历史 ([40982d4](https://github.com/TRPGEngine/Server/commit/40982d4244804f7d8ef79bb799b94371c44e2f33))
* **player:** 增加注册路由 ([d8f965f](https://github.com/TRPGEngine/Server/commit/d8f965f64ad2a1d6e44bfe73bf45f855374ee46d))
* **rtc:** add health check for rtc server ([67d18b2](https://github.com/TRPGEngine/Server/commit/67d18b2764cb5d8a5db5224504845cb898ba104f))

## [1.21.0](https://github.com/TRPGEngine/Server/compare/v1.20.0...v1.21.0) (2020-05-16)


### Features

* **group:** 分配角色增加对原拥有者的处理 ([4ec7dd9](https://github.com/TRPGEngine/Server/commit/4ec7dd9d360a1b2a4156da1f073d287b6d46e3fa))

## [1.20.0](https://github.com/TRPGEngine/Server/compare/v1.19.2...v1.20.0) (2020-05-10)


### Features

* **chat:** 正在输入状态增加对group类型的支持 ([e09c1db](https://github.com/TRPGEngine/Server/commit/e09c1db77db8e904fd824fe40122d1d67aa8f2eb))


### Bug Fixes

* **chat:** 修复一个拼写问题 ([7018537](https://github.com/TRPGEngine/Server/commit/70185373fa870d0273149dd02e161ab53824fdba))
* **core:** 修复平均值计算错误的bug ([36af935](https://github.com/TRPGEngine/Server/commit/36af935c099f642344ff826218e1fc2de2b07f70))

### [1.19.2](https://github.com/TRPGEngine/Server/compare/v1.19.1...v1.19.2) (2020-05-06)

### 1.2.7 (2019-10-12)

### [1.19.1](https://github.com/TRPGEngine/Server/compare/v1.19.0...v1.19.1) (2020-05-02)


### Bug Fixes

* 修复cache redis keys操作返回结果不是预期结果的问题 ([d68841f](https://github.com/TRPGEngine/Server/commit/d68841f9db6729a23490ba0ac884ca646411e72d))
* 修复一个使用保留字段导致的错误问题 ([b7691f3](https://github.com/TRPGEngine/Server/commit/b7691f3045ebfcdea367efe51d95852fd8184929))

## [1.19.0](https://github.com/TRPGEngine/Server/compare/v1.18.0...v1.19.0) (2020-04-29)


### Features

* **pdf:** 增加pdf解析的服务 ([e131793](https://github.com/TRPGEngine/Server/commit/e131793d99c3aa06e4b07bf6a44223c741f9c529))
* **trpg:** 增加模型trpg_recruit用于管理招募信息 ([f7e1032](https://github.com/TRPGEngine/Server/commit/f7e1032fc1e52e4b97b857895eb24b158b981dea))
* **trpg:** 增加获取feed的路由 ([a701a22](https://github.com/TRPGEngine/Server/commit/a701a22979b5e9b69f3bf2e58a13f52b78277171))
* **trpg:** 招募信息的创建、更新、完成与其相关逻辑 ([c894a6c](https://github.com/TRPGEngine/Server/commit/c894a6c845da94eacd187370363304ff1814e798))

## [1.18.0](https://github.com/TRPGEngine/Server/compare/v1.17.0...v1.18.0) (2020-04-20)


### Features

* **group:** 增加获取团历史记录的功能 ([b44b01d](https://github.com/TRPGEngine/Server/commit/b44b01d5a9d6daec9a92b635dd6f87906b1da816))
* **player:** 增加新的接口用于查看当前在线用户的详情列表 ([05395b9](https://github.com/TRPGEngine/Server/commit/05395b9d5f641c80d333c05e00b4cdf6a8eca8d5))

## [1.17.0](https://github.com/TRPGEngine/Server/compare/v1.16.0...v1.17.0) (2020-04-12)


### Features

* **dice:** 增加ww骰 ([12f7658](https://github.com/TRPGEngine/Server/commit/12f76580e4f10b661ca44251ea1be0c7dfa5e095))
* **trpg:** 增加一个简单的鉴权 ([b90da2f](https://github.com/TRPGEngine/Server/commit/b90da2f770b94528b7eec4fc46813e458301452a))
* **trpg:** 增加地图数据的初步处理与数据缓存与获取 ([bd6071d](https://github.com/TRPGEngine/Server/commit/bd6071deb7e53468b2c15b32f9f1d5b17fdd0ede))
* **trpg:** 增加基础的地图房间管理 ([eaeb7f8](https://github.com/TRPGEngine/Server/commit/eaeb7f8104cfa21c4569d12644aac07a1568a040))
* **trpg:** 增加更新与删除的代码的处理 ([56fd235](https://github.com/TRPGEngine/Server/commit/56fd235f863d19a9c67546deb1ffaf127284bba1))
* **trpg:** 增加获取地图列表的接口，并在地图增加时通知更新地图列表 ([0f5849a](https://github.com/TRPGEngine/Server/commit/0f5849ae866f215888c334d085c921edfbf2db5b))


### Bug Fixes

* 修复测试用例因为有长连接无法正常关闭的bug ([2e75c09](https://github.com/TRPGEngine/Server/commit/2e75c0939462b1a9c3202c22367e0b729b1a2723))

## [1.16.0](https://github.com/TRPGEngine/Server/compare/v1.15.0...v1.16.0) (2020-03-27)


### Features

* **group:** 增加人物卡新增的操作通知到所有成员 ([f01cb7a](https://github.com/TRPGEngine/Server/commit/f01cb7ab85493bfa940bce65d525f659d18f7b52))
* **player:** 增加封禁字段 ([03d7fb6](https://github.com/TRPGEngine/Server/commit/03d7fb60d2b7a6be95eed59170cafadf54c3b010))
* **rtc:** add basic rtc services by mediasoup ([853d24b](https://github.com/TRPGEngine/Server/commit/853d24b1e0764f30cde19511cbeb15c7e62cfcba))
* **trpg:** 增加战报的获取用户战报列表的接口 ([42b6be3](https://github.com/TRPGEngine/Server/commit/42b6be3b188f4d98fc8f7c6eec18c346d73c4e80))
* **trpg:** 增加跑团战报相关模型与路由 ([a3daace](https://github.com/TRPGEngine/Server/commit/a3daacef6ab5e9375372f3ef215a6ed0ac0b925c))

## [1.15.0](https://github.com/TRPGEngine/Server/compare/v1.14.0...v1.15.0) (2020-03-21)


### Features

* 增加了判定骰可以获取人物卡属性数据进行检定的操作 ([053e236](https://github.com/TRPGEngine/Server/commit/053e23609170c6c32d54a0918ec63367637a7aac))
* **group:** 增加了更新团人物卡信息时会发送系统消息通知的功能 ([2895de5](https://github.com/TRPGEngine/Server/commit/2895de5b59662eeb6fd263e1e438d2d50e5ab988))
* **player:** 增加接口用于获取用户信息 ([d436453](https://github.com/TRPGEngine/Server/commit/d436453e5efba9cfc464cd822dc146cc54bcbbf0))

## [1.14.0](https://github.com/TRPGEngine/Server/compare/v1.13.1...v1.14.0) (2020-03-13)


### Features

* **dice:** 增加ra判定骰的消息指令 ([85bfe0d](https://github.com/TRPGEngine/Server/commit/85bfe0d1181ef5f1f00d9f24857bc65150bef15e))
* **dice:** 增加判定骰的实现 ([82ac44c](https://github.com/TRPGEngine/Server/commit/82ac44cd22ee9d7725260a86fc5045e180efcce3))
* **group:** 增加创建子频道的接口 ([1ab92df](https://github.com/TRPGEngine/Server/commit/1ab92df55e98f528100839f37847f09a4ce2e2a0))
* **group:** 增加团详情的保存 ([b9c184c](https://github.com/TRPGEngine/Server/commit/b9c184ce3896bb37d30906a0a6a49d18746f4e2d))
* **group:** 增加获取团范围聊天记录的操作 ([186efac](https://github.com/TRPGEngine/Server/commit/186efac114fc8d6254fadfc6da0aa5289f565f2f))
* **group:** 频道的成员增加与移除 ([dcc946c](https://github.com/TRPGEngine/Server/commit/dcc946c46e17bdd562587d95a3a0f1da5fa9e58c))
* **trpg:** 增加新包 ([7e3f57b](https://github.com/TRPGEngine/Server/commit/7e3f57beb5b0451405629ac9febadb43e632b1ac))


### Bug Fixes

* **playground:** 修复博物学初始值错误的bug ([d8330a1](https://github.com/TRPGEngine/Server/commit/d8330a1b0af164e71052ea222144e3b7fb74f11e))

### [1.13.1](https://github.com/TRPGEngine/Server/compare/v1.13.0...v1.13.1) (2020-03-09)


### Bug Fixes

* **chat:** 修复用户可以广播消息的bug ([0749c5b](https://github.com/TRPGEngine/Server/commit/0749c5b9e0f8248e8fd8bf4e77ccf61f02bec4bc))

## [1.13.0](https://github.com/TRPGEngine/Server/compare/v1.12.0...v1.13.0) (2020-03-09)


### Features

* **actor:** 人物卡分享与取消分享的socket与http入口 ([337fdc4](https://github.com/TRPGEngine/Server/commit/337fdc4821041dcd294b951ea4d87baaff6bf8b0))
* **actor:** 搜索分享用户增加分页与按照更新时间排序 ([6acda6a](https://github.com/TRPGEngine/Server/commit/6acda6ac4d3cbc08a2046779838cc32e325c8d95))
* **dice:** 增加聊天信息拦截器，将用户发送的rd指令变成投骰 ([8dbd101](https://github.com/TRPGEngine/Server/commit/8dbd101b8be441a337bed8e05638982d68cd6f99))
* **player:** 增加路由用于检测用户在线情况 ([7f25e5d](https://github.com/TRPGEngine/Server/commit/7f25e5db6e31c100208a9d29aca0672c0b641e95))

## [1.12.0](https://github.com/TRPGEngine/Server/compare/v1.11.0...v1.12.0) (2020-03-06)


### Features

* **group:** 增加返回团列表时返回团的detail信息 ([9099049](https://github.com/TRPGEngine/Server/commit/9099049d60eed319a990d7ee56302f595cec0527))


### Bug Fixes

* **group:** 修复拉取团人物数据时数据不全的问题 ([b9547be](https://github.com/TRPGEngine/Server/commit/b9547bedaadd530136aae30f7d3fff6217fc6c3f))
* **group:** 修复通知传输数据不正确的问题 ([5a3e338](https://github.com/TRPGEngine/Server/commit/5a3e3384eafb936321d4be4f131f8358ec3cfc55))

## [1.11.0](https://github.com/TRPGEngine/Server/compare/v1.10.0...v1.11.0) (2020-03-04)


### Features

* 增加socket 日志信息脱敏 ([0198026](https://github.com/TRPGEngine/Server/commit/019802689dbd325065b5ffa0b246e199f80a1d2e))


### Bug Fixes

* **layout:** 修复coc7人物卡缺少兴趣点显示与资产情况计算不正确的bug ([727b9aa](https://github.com/TRPGEngine/Server/commit/727b9aa9ed261c78b0f2f93cc28560f22fa229eb))
* 修复一个可能会导致服务器崩溃的问题 ([aeccbae](https://github.com/TRPGEngine/Server/commit/aeccbae1abea9b62e813b63bd45cb50496f31b9a))

## [1.10.0](https://github.com/TRPGEngine/Server/compare/v1.9.0...v1.10.0) (2020-02-28)


### Features

* 增加loggly 日志支持 ([12ed7bf](https://github.com/TRPGEngine/Server/commit/12ed7bf43c465188856c657511344acfd8c375ac))
* **actor:** 人物的分享与fork ([c9586d4](https://github.com/TRPGEngine/Server/commit/c9586d419a3f3f179cdaf6fa5b3f93f43715ea03))
* **core:** 增加http请求的路由日志 ([050e94c](https://github.com/TRPGEngine/Server/commit/050e94c1348d52cf942082efea780e763612ebaf))
* **file:** 增加v2版本的allowmime中间件和thumbnail中间件 ([e82c584](https://github.com/TRPGEngine/Server/commit/e82c584bd4095dbfa33d47d203cc841f1fca6cfd))
* **file:** 增加存储到远程oss的文件管理中间件与存储记录 ([b28d351](https://github.com/TRPGEngine/Server/commit/b28d35192797494d9e462e776a581317fa707cc7))
* **file:** 增加第二版avatar路由 ([d689e4e](https://github.com/TRPGEngine/Server/commit/d689e4e4f2a97b1d7a5e5dbcc0c55edf074866ca))
* **group:** 增加group_channel模型 ([41a19be](https://github.com/TRPGEngine/Server/commit/41a19be535d7d4932df98f76b02471ee38e355f4))
* **group:** 增加团信息编辑后通知更新团信息 ([c5f23c1](https://github.com/TRPGEngine/Server/commit/c5f23c1fe1b5cb491b22fef857470bf950ea2149))
* **group:** 增加团角色编辑与通过时通知所有用户更新团角色信息的操作 ([3259e33](https://github.com/TRPGEngine/Server/commit/3259e332065a200cc54cf9556bcfe3f73bc96f87))


### Bug Fixes

* 修复loggly没有配置时无法启动的问题 ([bcb87a2](https://github.com/TRPGEngine/Server/commit/bcb87a2938960fd65bee852776f9307c2d2d84bb))
* **file:** 修复部分事务没有被真正应用的问题 ([7dd77e0](https://github.com/TRPGEngine/Server/commit/7dd77e0dabb27f481363765ab60205236f7f6fb2))

## [1.9.0](https://github.com/TRPGEngine/Server/compare/v1.8.0...v1.9.0) (2020-02-21)


### Features

* **actor:** 增加创建模板的接口 ([5b4b7fd](https://github.com/TRPGEngine/Server/commit/5b4b7fdc7b0815901ed1feb627e7ca8da8165aad))
* **chat:** 增加多人会话的创建 ([e03c652](https://github.com/TRPGEngine/Server/commit/e03c652148cfe9a5ac06710471b4c86c17d4347f))
* **group:** 增加group rule 字段并抽象更新逻辑 ([c952c2e](https://github.com/TRPGEngine/Server/commit/c952c2e56ce5a1a6d8c71bc33ae0ec5a71d63120))


### Bug Fixes

* 修复dice包代发tip消息类型出现问题的bug ([287dd6f](https://github.com/TRPGEngine/Server/commit/287dd6fce76bc3817083c9e0a60fce3fe552a87e))
* **chat:** 修复加了消息类型黑名单后无法发送人物卡的问题 ([abe7730](https://github.com/TRPGEngine/Server/commit/abe77305f43439e84b1c1d376a317b94cd70f8e0))

## [1.8.0](https://github.com/TRPGEngine/Server/compare/v1.7.1...v1.8.0) (2020-02-07)


### Features

* **group:** 获取用户数据时会返回成员数 ([bab81cf](https://github.com/TRPGEngine/Server/commit/bab81cf77d7e9089d83f5b584933c82a2ede172e))


### Bug Fixes

* **chat:** 修复用户可以伪造发送者的bug ([123a30f](https://github.com/TRPGEngine/Server/commit/123a30fa2fd2c776c3c5fafd15347b84225cf138))
* **chat:** 修复用户可以直接发送card, tip类型数据而服务器不过经过任何处理的问题 ([944d9e1](https://github.com/TRPGEngine/Server/commit/944d9e102e3ded78e270f466a1771b466b7d8dcd))

### [1.7.1](https://github.com/TRPGEngine/Server/compare/v1.7.0...v1.7.1) (2020-01-23)

## [1.7.0](https://github.com/TRPGEngine/Server/compare/v1.6.0...v1.7.0) (2020-01-17)


### Features

* **chatemotion:** 增加doutula的爬虫实现 ([86dfb4f](https://github.com/TRPGEngine/Server/commit/86dfb4fb235644e9616bddfaca9e806983efe51f))

## [1.6.0](https://github.com/TRPGEngine/Server/compare/v1.5.3...v1.6.0) (2020-01-10)


### Features

* **chat:** 移除message的xss处理。使用react原生的xss来进行xss的处理 ([cc140d9](https://github.com/TRPGEngine/Server/commit/cc140d908677bd4a756e3989afc3dad37b7f356d))

### [1.5.3](https://github.com/TRPGEngine/Server/compare/v1.5.2...v1.5.3) (2020-01-03)


### Bug Fixes

* 修复在某些情况下无法更新人物卡的bug ([378bdb1](https://github.com/TRPGEngine/Server/commit/378bdb1ec126e48782b004ae6ccae5acad0093f3))

### [1.5.2](https://github.com/TRPGEngine/Server/compare/v1.5.1...v1.5.2) (2020-01-03)


### Bug Fixes

* **player:** 修复修改密码后无法正常登陆的问题 ([7d3b6ab](https://github.com/TRPGEngine/Server/commit/7d3b6abe818c222a01f9efffaf8090352302eeff))

### [1.5.1](https://github.com/TRPGEngine/Server/compare/v1.5.0...v1.5.1) (2020-01-02)


### Bug Fixes

* **chat:** 修复emoji表情无法写入数据库的问题 ([29c98a5](https://github.com/TRPGEngine/Server/commit/29c98a5d38c66f7d32aecbb2ab27059d849dd8ae))
* **player:** 修复登录时不返回token导致无法正常退出登录的bug ([5d25845](https://github.com/TRPGEngine/Server/commit/5d25845cc3cdfce227b640d87c0a217e3e8f075b))

## [1.5.0](https://github.com/TRPGEngine/Server/compare/v1.4.0...v1.5.0) (2019-12-31)


### Features

* **chat:** 处理发送消息时将客户端时间统一成服务端时间 ([97eec9f](https://github.com/TRPGEngine/Server/commit/97eec9f2d985d5b9efec16a81becac33061b8703))
* **chat:** 开放消息撤回事件 ([6da1700](https://github.com/TRPGEngine/Server/commit/6da1700a5bbc16eff8a8afc4e45e5c24f5b50462))
* **group:** 增加 GroupGroup.findGroupActorsByUUID 返回角色列表的owner的信息 ([a635f96](https://github.com/TRPGEngine/Server/commit/a635f962988b3ddf498fd9dc15066c8048ba82ed))


### Bug Fixes

* **deploy:** 修复错误的字段声明 ([2923d1f](https://github.com/TRPGEngine/Server/commit/2923d1f226747b285d28e0900d56a9084666833b))

## [1.4.0](https://github.com/TRPGEngine/Server/compare/v1.3.0...v1.4.0) (2019-12-21)


### Features

* **chat:** 消息撤回ChatLog.revokeMsg ([3403f13](https://github.com/TRPGEngine/Server/commit/3403f13cc8eb5051e0d056ad4553c617d7c50766))
* **core:** 增加package的检查，列出功能 ([0976dc9](https://github.com/TRPGEngine/Server/commit/0976dc906e0dffe14e89a79368c62eaaf8f797c3))
* **core:** 增加report error 的开关 ([9da862d](https://github.com/TRPGEngine/Server/commit/9da862dedb0b4f8be490c864cea63e3f10f7eb81))
* **group:** 搜索时过滤不允许被搜索到的团 ([b9414cf](https://github.com/TRPGEngine/Server/commit/b9414cfc1855ad440a7d1c67f14c4a2abd9113a4))
* **group:** 用户加入与退出团都会通知团所有成员更新成员列表 ([681f775](https://github.com/TRPGEngine/Server/commit/681f77582c55a0b8695c861c875ac434e6e74901))
* **notify:** 增加激活推送与取消推送的接口。并修改了用户uuid的获取 ([afd4f72](https://github.com/TRPGEngine/Server/commit/afd4f7257e7554c064700a9b9e15ee2c7e9f1347))


### Bug Fixes

* 修复/deploy/version/latest参数获取错误的bug ([ba4eec8](https://github.com/TRPGEngine/Server/commit/ba4eec8e281cae8ad0d215093a3c79cbf4d45ce9))

## [1.3.0](https://github.com/TRPGEngine/Server/compare/v1.2.19...v1.3.0) (2019-12-13)


### Features

* **actor:** 增加删除人物卡的路由 ([30ece93](https://github.com/TRPGEngine/Server/commit/30ece939c2f74c43f3fd9ec25afe2b4ce26105f4))
* **actor:** 增加返回推荐模板列表的路由 ([61f5b6e](https://github.com/TRPGEngine/Server/commit/61f5b6e37a6cf4c401e33eb0aa7748d3e7f6c4d5))
* **group:** 增加移除团角色的操作 ([94c1892](https://github.com/TRPGEngine/Server/commit/94c1892375c175af0e1700b0aeddf04cc630194c))
* **group:** 当用户加入团后，发送系统提示到团会话中 ([fd2ba5b](https://github.com/TRPGEngine/Server/commit/fd2ba5b71fbbf81b65a74d1e390cb6b7580f9432))

### 1.2.19 (2019-12-07)


### Bug Fixes

* **core:** 修复监听socket事件数据为null时会导致服务崩溃的bug ([9611a5f](https://github.com/TRPGEngine/Server/commit/9611a5f723f3a400784792ec71e7aa2bc19519b0))
